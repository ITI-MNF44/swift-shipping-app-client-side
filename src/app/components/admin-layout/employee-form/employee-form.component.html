<main id="main" class="main">
  <section class="section employee-section">
    <div class="pagetitle">
      <nav>
        <ol class="breadcrumb text-center">
          <li class="breadcrumb-item">
            <a href="index.html"><i class="bi-house-fill text-dark"></i></a>
          </li>
          <li class="breadcrumb-item">
            {{ employeeId == "0" ? "Add Employee" : "Edit Employee" }}
          </li>
        </ol>
      </nav>
    </div>
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          {{ employeeId == "0" ? "Add Employee" : "Edit Employee" }}
        </h5>
        <form [formGroup]="employeeForm" (ngSubmit)="employeeHandler()">
          <div class="row mb-3">
            <div class="col-lg-4 col-md-6 col-sm-12">
              <label for="name" class="form-label">Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                formControlName="name"
                placeholder="Name"
              />
              <div
                *ngIf="
                  f['name'].invalid && (f['name'].dirty || f['name'].touched)
                "
                class="text-danger"
              >
                <div *ngIf="f['name'].errors?.['required']">
                  Name is required.
                </div>
                <div *ngIf="f['name'].errors?.['minlength']">
                  Name must be at least 2 characters long.
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-12">
              <label for="userName" class="form-label">UserName</label>
              <input
                type="text"
                class="form-control"
                id="userName"
                formControlName="userName"
                placeholder="UserName"
              />
              <div
                *ngIf="
                  f['userName'].invalid &&
                  (f['userName'].dirty || f['userName'].touched)
                "
                class="text-danger"
              >
                <div *ngIf="f['userName'].errors?.['required']">
                  UserName is required.
                </div>
                <div *ngIf="f['userName'].errors?.['minlength']">
                  UserName must be at least 2 characters long.
                </div>
              </div>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
              <label for="email" class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                formControlName="email"
                placeholder="Email"
              />
              <div
                *ngIf="
                  f['email'].invalid && (f['email'].dirty || f['email'].touched)
                "
                class="text-danger"
              >
                <div *ngIf="f['email'].errors?.['required']">
                  Email is required.
                </div>
                <div *ngIf="f['email'].errors?.['email']">
                  Invalid email format.
                </div>
              </div>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
              <label for="password" class="form-label">Password</label>
              <input
                type="password"
                class="form-control"
                id="password"
                formControlName="password"
                placeholder="Password"
              />
              <div
                *ngIf="
                  f['password'].invalid &&
                  (f['password'].dirty || f['password'].touched)
                "
                class="text-danger"
              >
                <div *ngIf="f['password'].errors?.['required']">
                  Password is required.
                </div>
                <div *ngIf="f['password'].errors?.['minlength']">
                  Password must be at least 8 characters long.
                </div>
              </div>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
              <label for="phoneNumber" class="form-label">Phone Number</label>
              <input
                type="text"
                class="form-control"
                id="phoneNumber"
                formControlName="phoneNumber"
                placeholder="Phone Number"
              />
              <div
                *ngIf="
                  f['phoneNumber'].invalid &&
                  (f['phoneNumber'].dirty || f['phoneNumber'].touched)
                "
                class="text-danger"
              >
                <div *ngIf="f['phoneNumber'].errors?.['required']">
                  Phone number is required.
                </div>
                <div *ngIf="f['phoneNumber'].errors?.['pattern']">
                  Phone number must be numeric.
                </div>
              </div>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
              <label for="branch" class="form-label">Branch Name</label>
              <select
                id="branch"
                class="form-control"
                formControlName="branchId"
                [value]=""
              >
                <option *ngFor="let branch of branches" [value]="branch.id">
                  {{ branch.name }}
                </option>
              </select>
              <div
                *ngIf="
                  f['branchId'].invalid &&
                  (f['branchId'].dirty || f['branchId'].touched)
                "
                class="text-danger"
              >
                <div *ngIf="f['branchId'].errors?.['required']">
                  Branch is required.
                </div>
              </div>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
              <label for="address" class="form-label">Address</label>
              <input
                type="text"
                class="form-control"
                id="address"
                formControlName="address"
                placeholder="Address"
              />
              <div
                *ngIf="
                  f['address'].invalid &&
                  (f['address'].dirty || f['address'].touched)
                "
                class="text-danger"
              >
                <div *ngIf="f['address'].errors?.['required']">
                  Address is required.
                </div>
              </div>
            </div>
          </div>
          <div class="">
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>
  </section>
</main>
